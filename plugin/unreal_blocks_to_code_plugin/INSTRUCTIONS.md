# Инструкция по запуску плагина Unreal Blocks to Code Optimizer

## Быстрый старт

### 1. Установка зависимостей
```bash
npm install
```

### 2. Компиляция
```bash
npm run compile
```

### 3. Запуск в режиме разработки
1. Откройте проект в VS Code
2. Нажмите F5 или выберите "Run Extension" в панели отладки
3. Откроется новое окно VS Code с установленным плагином

### 4. Тестирование
1. В новом окне VS Code откройте папку `test-project`
2. Выполните команду `Ctrl+Shift+P` → "Unreal Optimizer: Анализировать проект Unreal Engine"
3. Просмотрите сгенерированный отчет

## Команды плагина

### Анализ проекта
- **Команда**: `Unreal Optimizer: Анализировать проект Unreal Engine`
- **Описание**: Анализирует весь проект и генерирует отчет
- **Использование**: Откройте папку с .uproject файлом и выполните команду

### Оптимизация кода
- **Команда**: `Unreal Optimizer: Оптимизировать код`
- **Описание**: Оптимизирует открытый C++ файл
- **Использование**: Откройте .cpp/.h файл и выполните команду

### Оптимизация Blueprints
- **Команда**: `Unreal Optimizer: Оптимизировать Blueprints`
- **Описание**: Анализирует и оптимизирует Blueprint файлы
- **Использование**: Выполните команду в папке проекта

### Генерация отчета
- **Команда**: `Unreal Optimizer: Сгенерировать отчет об оптимизации`
- **Описание**: Создает детальный отчет с рекомендациями
- **Использование**: Выполните команду в папке проекта

## Контекстные меню

### В проводнике файлов
- Правый клик на .uproject файле → "Анализировать проект"

### В редакторе кода
- Правый клик в C++ файле → "Оптимизировать код"

## Настройки

Откройте настройки VS Code и найдите "Unreal Optimizer":

- `unrealOptimizer.enableAutoOptimization` - Автоматическая оптимизация при сохранении
- `unrealOptimizer.optimizationLevel` - Уровень оптимизации (basic/advanced/aggressive)
- `unrealOptimizer.includeBlueprints` - Включать анализ Blueprint файлов
- `unrealOptimizer.backupBeforeOptimization` - Создавать резервные копии

## Примеры оптимизаций

### До оптимизации:
```cpp
// Неэффективный цикл
for (int i = 0; i < MyArray.size(); i++) {
    ProcessItem(MyArray[i]);
}

// Неэффективная конкатенация
FString Result = String1 + String2 + String3;

// Отсутствие const
int Value = CalculateValue();
```

### После оптимизации:
```cpp
// Оптимизированный цикл
for (const auto& Item : MyArray) {
    ProcessItem(Item);
}

// Оптимизированная конкатенация
FString Result = FString::Format(TEXT("{0}{1}{2}"), {String1, String2, String3});

// Добавлен const
const int Value = CalculateValue();
```

## Устранение неполадок

### Плагин не активируется
1. Убедитесь, что открыта папка с .uproject файлом
2. Проверьте, что проект скомпилирован без ошибок
3. Перезапустите VS Code

### Ошибки компиляции
1. Убедитесь, что установлены все зависимости: `npm install`
2. Проверьте версию Node.js (требуется 16.x или выше)
3. Очистите кэш: `npm run clean && npm install`

### Плагин не находит файлы
1. Убедитесь, что проект имеет правильную структуру Unreal Engine
2. Проверьте, что .uproject файл находится в корне проекта
3. Убедитесь, что файлы имеют правильные расширения (.cpp, .h, .uasset)

## Поддержка

При возникновении проблем:
1. Проверьте консоль разработчика (Help → Toggle Developer Tools)
2. Создайте Issue в репозитории с описанием проблемы
3. Приложите логи и примеры кода

## Разработка

### Структура проекта
```
src/
├── extension.ts              # Основной файл расширения
├── analyzers/               # Анализаторы кода
├── optimizers/              # Оптимизаторы
├── reporters/               # Генераторы отчетов
└── types/                   # Типы данных
```

### Добавление новых оптимизаций
1. Создайте новый метод в `CodeOptimizer.ts`
2. Добавьте вызов в `optimizeCode()`
3. Обновите типы в `AnalysisTypes.ts`
4. Добавьте тесты

### Добавление новых анализаторов
1. Создайте новый класс в папке `analyzers/`
2. Реализуйте интерфейс анализатора
3. Добавьте вызов в `UnrealProjectAnalyzer.ts`
4. Обновите отчеты
